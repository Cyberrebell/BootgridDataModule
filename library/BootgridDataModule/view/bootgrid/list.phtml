<h2><?php echo $this->translate('list ' . $title); ?></h2>
<table id="grid-data-api" class="table table-condensed table-hover table-striped" data-toggle="bootgrid" data-ajax="true" data-url="/bootgrid-data/<?php echo strtolower($title) ?>">
	<thead>
		<tr>
			<?php foreach ($entityProperties as $propertyName): ?>
			<?php if ($propertyName == 'id'): ?>
            <th data-column-id="<?php echo $propertyName ?>" data-type="numeric" data-identifier="true">
                ID
            </th>
            <?php else: ?>
            <th data-column-id="<?php echo $propertyName ?>">
                <?php echo $this->translate($propertyName); ?>
            </th>
            <?php endif; ?>
            <?php endforeach; ?>
            <th class="crudlist-iconcol">
                <?php foreach ($listHeadIcons as $icon => $ref): ?>
                    <a title="<?php echo $this->translate($icon); ?>" class="<?php echo $icon; ?>-icon crudlist-icon" href="<?php echo $ref; ?>">
                        <span></span>
                    </a>
                <?php endforeach; ?>
            </th>
		</tr>
	</thead>
</table>

<?php $this->inlineScript()->captureStart();
echo <<<JS
$("#grid-data-api").bootgrid({
	selection: true,
	multiSelect: true,
	rowSelect: true,
	keepSelection: true,
	formatters: {
		"link": function(column, row)
		{
			return "<a href=\"#\">" + column.id + ": " + row.id + "</a>";
		}
	}
});
JS;
$this->inlineScript()->captureEnd();
